# Generated by Cerberus
# Dynamic configuration

http:
  routers:
    # Health check router
    health:
      rule: "Path(`/health`)"
      service: health-service
      priority: 1000
    # Router for test-service
    test-service:
      rule: "Host(`test.example.com`)"
      service: test-service-service
      middlewares:
        - security-headers
  services:
    # Health service
    health-service:
      loadBalancer:
        servers:
          - url: "http://localhost"
    # Service test-service
    test-service-service:
      loadBalancer:
        servers:
          - url: "http://backend:3000"
        passHostHeader: true
  middlewares:
    # Security headers
    security-headers:
      headers:
        frameDeny: true
        contentTypeNosniff: true
        browserXssFilter: true
        customResponseHeaders:
          X-Frame-Options: "SAMEORIGIN"
